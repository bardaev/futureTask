# AccountService

## Общее описание
> Проект состоит из 2-х модулей
> - client
> - service
> 
> В корне проекта находится файл docker-compose.yaml, который запускает в контейнере базу данных postgresql и модуль service
> 
> Модуль client в контейнер не упаковыается
> 
> База данных работает на порту 5434
> 
> Выполненные запросы модуля client выводятся на консоль

## Запуск

> В модуле service выполнить 
> 1. mvn clean
> 2. mvn package -DskipTests
> 
> В корне проекта выполнить
> 1. docker-compose up --force-recreate -d --build
> 
> Пример запуска клиента:
>> java -jar client.jar -r 2 -w 3 -s 10 -e 1000 -h 127.0.0.1 -p 8080
>
>Где:
> - r (Readers) - количество потоков, выполняющих запрос на чтение
> - w (Writers) - количество потоков, выполняющих запрос на запись
> - s (start) и e (end) - диапозон ключей (начало, конец)
> - h - адрес service
> - p - порт service

## Статистика

> Для получения статистики необходимо сделать http запрос к контроллерам:
> - /actuator/mc/get - статистика по контроллеру на получение данных
> - /actuator/mc/add - статистика по контроллеру на добавление данных
> - /actuator/mc/total - статистика по количеству всех запросов
> - /actuator/mc/reset - сброс статистики
> 
> В статистике отображается слежующая информация (для add и get):
> - Количество запросов к контроллеру
> - Среднее количество запросов за одну минуту с момента запуска приложения
> - Среднее количество запросов за пять минут с момента запуска приложения

